-- CPU usage
SELECT record_id, SQLProcessUtilization
FROM sys.dm_os_ring_buffers
WHERE ring_buffer_type = 'RING_BUFFER_SCHEDULER_MONITOR';

-- CPU usage
SELECT 
    record_id,
    SQLProcessUtilization,
    SystemIdle
FROM sys.dm_os_ring_buffers
WHERE ring_buffer_type = 'RING_BUFFER_SCHEDULER_MONITOR';

-- Database size
SELECT 
    name,
    size * 8 / 1024 AS size_mb
FROM sys.database_files;

-- Disk latency
SELECT 
    DB_NAME(vfs.database_id) AS db_name,
    vfs.num_of_reads,
    vfs.io_stall_read_ms
FROM sys.dm_io_virtual_file_stats(NULL, NULL) vfs;

